<!doctype html>
<!-- The Time Machine GitHub pages theme was designed and developed by Jon Rohan, on Feb 7, 2012. -->
<!-- Follow him for fun. http://twitter.com/jonrohan. Tail his code on http://github.com/jonrohan -->
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

  <link rel="stylesheet" href="stylesheets/stylesheet.css" media="screen"/>
  <link rel="stylesheet" href="stylesheets/pygment_trac.css"/>
  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
  <script type="text/javascript" src="javascripts/script.js"></script>

  <title>Tfmsqlgenerator</title>
  <meta name="description" content="php script that Generates SQL select string from html form.">

  <meta name="viewport" content="width=device-width,initial-scale=1">

</head>

<body>

  <div class="wrapper">
    <header>
      <h1 class="title">Tfmsqlgenerator</h1>
    </header>
    <div id="container">
      <p class="tagline">php script that Generates SQL select string from html form.</p>
      <div id="main" role="main">
        <div class="download-bar">
        <div class="inner">
          <a href="https://github.com/tobya/tfmsqlgenerator/tarball/master" class="download-button tar"><span>Download</span></a>
          <a href="https://github.com/tobya/tfmsqlgenerator/zipball/master" class="download-button zip"><span>Download</span></a>
          <a href="https://github.com/tobya/tfmsqlgenerator" class="code">View Tfmsqlgenerator on GitHub</a>
        </div>
        <span class="blc"></span><span class="trc"></span>
        </div>
        <article class="markdown-body">
          <p>This class is designed to take a standard set of inputs from a post or get form and turn it into a sql select query on a database.  </p>

<h3>Basic Fields Required</h3>

<p>One of the two must exist.</p>

<ul>
<li> table - Table name for query.</li>
<li> join - Join SQL - overrides table if exists.</li>
</ul><p>if both exist join is used.</p>

<p>The following Can Exist.</p>

<ul>
<li>orderby - Order by Clause - without ORDER BY</li>
<li>groupby - Group By Clause - without Group By</li>
<li>usehaving - 'true' or 'false' (default) will use Having instead of WHERE must be used with Group BY</li>
</ul><p>At least one field value - Operator pair must exist.                </p>

<ol>
<li>Input should be in the following format.</li>
<li>Where FieldName is the name of the field.</li>
<li>fldFieldName_Value = Value to be searched for.</li>
<li>fldFieldName_Operator = Operator on search </li>
</ol><h3>Possible Values for Operator</h3>

<ul>
<li>blank - No Value selected (wont be included in statement).</li>
<li>eq - Equals</li>
<li>gt - greater than</li>
<li>lt - lessthan</li>
<li>lk - Like %val%</li>
<li>lkb - like begining val%</li>
<li>lke - like end %val</li>
<li>not - not equal.</li>
</ul><p><strong>selectfields</strong> </p>

<p>All fields to be selected in sql. Defaults to   if not present.</p>

<p><strong>aliasFieldName</strong> (Sql for an As Field.)</p>

<p>This is primarily to alias calculated fields, so when generated the  any time the field specified by FieldName above will be replaced by the  sql value of the field.  eg. You have Sum(Price) as Total create hidden  field name='aliasTotal' value='Sum(Price)' now can use the field total in the form and anytime the class find it it will be replaced with Sum(Price) in the sql.</p>

<hr><p><strong>Prefix.</strong></p>

<p>In order to generate more than one sql query from a particular form, it is possible to specify a prefix when generating the sql.  The code will then only work with fields that begin with this prefix, so prefixfldFieldName is used instead of fldFieldName etc. Prefix can be used with all fields specified above.  This was developed because mysql
(which I used this for) doesnt provide views.</p>

<p>To use:</p>

<ul>
<li>Ensure all required fields exist in form and submit.</li>
<li>create an instance of sql_query_generator</li>
<li>Call getSQL([$Prefix]) where prefix is a prefix you place before all fields for a specific query.<br>
</li>
<li>Allows multiple queries to be generated from one form. Prefix is "" empty string by default.</li>
<li>Use the SQL.</li>
</ul><h3>Other Callable Functions:</h3>

<ul>
<li>SetFormFieldIdentifier - by default all fields must have 'fld' at the begining to be recognized, you may change this here.</li>
<li>setAliasFieldIdentifier - by default all alias fields must have 'alias' at the begining to  be recognised. You may change this.<br>
</li>
</ul><h3>Variables that can be accessed</h3>

<ul>
<li>$BuildEnglishQuery (Boolean) if true build a rough english representation of query. Default false.</li>
<li>$EnglishQueryDescription (String) if above is true after calling getSQL() this variable contains the
                                 english reprentation of query.</li>
</ul>
        </article>
      </div>
    </div>
    <footer>
      <div class="owner">
      <p><a href="https://github.com/tobya" class="avatar"><img src="https://secure.gravatar.com/avatar/1e037aa722c82abdf479a505a36bf1ed?s=30&amp;d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png" width="48" height="48"/></a> <a href="https://github.com/tobya">tobya</a> maintains <a href="https://github.com/tobya/tfmsqlgenerator">Tfmsqlgenerator</a></p>


      </div>
      <div class="creds">
        <small>This page generated using <a href="https://pages.github.com/">GitHub Pages</a><br/>theme by <a href="http://twitter.com/jonrohan/">Jon Rohan</a></small>
      </div>
    </footer>
  </div>
  <div class="current-section">
    <a href="#top">Scroll to top</a>
    <a href="https://github.com/tobya/tfmsqlgenerator/tarball/master" class="tar">tar</a><a href="https://github.com/tobya/tfmsqlgenerator/zipball/master" class="zip">zip</a><a href="" class="code">source code</a>
    <p class="name"></p>
  </div>

  
</body>
</html>
